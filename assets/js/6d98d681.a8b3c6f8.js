"use strict";(self.webpackChunkosmosis_docs=self.webpackChunkosmosis_docs||[]).push([[8101],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>u});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var i=a.createContext({}),p=function(e){var t=a.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=p(e.components);return a.createElement(i.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},k=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,s=e.originalType,i=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),k=p(n),u=r,m=k["".concat(i,".").concat(u)]||k[u]||c[u]||s;return n?a.createElement(m,o(o({ref:t},d),{},{components:n})):a.createElement(m,o({ref:t},d))}));function u(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var s=n.length,o=new Array(s);o[0]=k;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var p=2;p<s;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}k.displayName="MDXCreateElement"},43504:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>o,default:()=>c,frontMatter:()=>s,metadata:()=>l,toc:()=>p});var a=n(87462),r=(n(67294),n(3905));const s={},o="Basic Key Management",l={unversionedId:"keys/keys-cli",id:"keys/keys-cli",title:"Basic Key Management",description:"Create, import, export and delete keys using the CLI keyring.",source:"@site/docs/osmosis-core/keys/keys-cli.md",sourceDirName:"keys",slug:"/keys/keys-cli",permalink:"/osmosis-core/keys/keys-cli",draft:!1,editUrl:"https://github.com/osmosis-labs/docs/tree/main/docs/osmosis-core/keys/keys-cli.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Keys Management",permalink:"/osmosis-core/category/keys-management"},next:{title:"Multisig",permalink:"/osmosis-core/keys/multisig"}},i={},p=[{value:"Create a new key",id:"create-a-new-key",level:2},{value:"Restore existing key by seed phrase",id:"restore-existing-key-by-seed-phrase",level:2},{value:"List your keys",id:"list-your-keys",level:2},{value:"Retrieve key information",id:"retrieve-key-information",level:2},{value:"Delete a key",id:"delete-a-key",level:2},{value:"Export private keys",id:"export-private-keys",level:2},{value:"The keyring-backend option",id:"the-keyring-backend-option",level:2},{value:"os backend",id:"os-backend",level:3},{value:"file backend",id:"file-backend",level:3},{value:"test backend",id:"test-backend",level:3}],d={toc:p};function c(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"basic-key-management"},"Basic Key Management"),(0,r.kt)("p",null,"Create, import, export and delete keys using the CLI keyring. "),(0,r.kt)("p",null,"For this guide, The osmosis Binary is required which you can install from here."),(0,r.kt)("h2",{id:"create-a-new-key"},"Create a new key"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"keys add <wallet_name>\n")),(0,r.kt)("p",null,"You can create a new key with the name ",(0,r.kt)("inlineCode",{parentName:"p"},"Default")," as in the following example:\n::: details Example: Create a new address"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'$ osmosisd keys add Default\n- name: Default\n  type: local\n  address: osmo1quw5r22pxy8znjtdkgqc65atrm3x5hg6vycm5n\n  pubkey: osmopub1addwnpepqdct05khsxvtaaj0stuvayrpw0j8t6styr7vu05k3y63d5540ftuz8x6tsq\n  mnemonic: ""\n  threshold: 0\n  pubkeys: []\n\n**Important** write this mnemonic phrase in a safe place.\nIt is the only way to recover your account if you ever forget your password.\n\nspare leopard potato hospital series salt model myself bronze print despair please mutual rival battle lumber crater brain food artwork goose west talent ritual\n')),(0,r.kt)("p",null,':::\nThe key comes with a "mnemonic phrase", which is serialized into a human-readable 24-word mnemonic. User can recover their associated addresses with the mnemonic phrase.'),(0,r.kt)("admonition",{type:"danger"},(0,r.kt)("p",{parentName:"admonition"},"It is important that you keep the mnemonic for address secure, as there is ",(0,r.kt)("strong",{parentName:"p"},"no way")," to recover it. You would not be able to recover and access the funds in the wallet if you forget the mnemonic phrase.")),(0,r.kt)("h2",{id:"restore-existing-key-by-seed-phrase"},"Restore existing key by seed phrase"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"keys add <key_name> --recover\n")),(0,r.kt)("p",null,"You can restore an existing key with the mnemonic."),(0,r.kt)("p",null,"::: details Example: Restore an existing key"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ osmosisd keys add Default_restore --recover\n> Enter your bip39 mnemonic\n## Enter your 24-word mnemonic here ##\n")),(0,r.kt)("p",null,":::"),(0,r.kt)("h2",{id:"list-your-keys"},"List your keys"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"keys list\n")),(0,r.kt)("p",null,"Multiple keys can be created when needed. You can list all keys saved under the storage path."),(0,r.kt)("p",null,"::: details Example: List all of your keys"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'$ osmosisd keys list\n    - name: Default\n    type: local\n    address: ## Address of "Default" ##\n    pubkey: ## Pubkey of "Default" ##\n    mnemonic: ""\n    threshold: 0\n    pubkeys: []\n  - name: Default_restore\n    type: local\n    address: ## Address of "Default_restore" ##\n    pubkey: ## Pubkey of "Default_restore" ##\n    mnemonic: ""\n    threshold: 0\n    pubkeys: []\n')),(0,r.kt)("p",null,":::"),(0,r.kt)("h2",{id:"retrieve-key-information"},"Retrieve key information"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"keys show <key_name>\n")),(0,r.kt)("p",null,"You can retrieve key information by its name:"),(0,r.kt)("p",null,"::: details Example: Retrieve key information - Account Address and its public key"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'$ osmosisd keys show Default --bech acc\n- name: Default\n  type: local\n  address: osmo1quw5r22pxy8znjtdkgqc65atrm3x5hg6vycm5n\n  pubkey: osmopub1addwnpepqdct05khsxvtaaj0stuvayrpw0j8t6styr7vu05k3y63d5540ftuz8x6tsq\n  mnemonic: ""\n  threshold: 0\n  pubkeys: []\n')),(0,r.kt)("p",null,":::"),(0,r.kt)("p",null,"::: details Example: Retrieve key information - Validator Address and its public key"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'$ osmosisd keys show Default --bech val\n- name: Default\n  type: local\n  address: osmocncl1zdlttjrqh9jsgk2l8tgn6f0kxlfy98s3prz35z\n  pubkey: osmocnclpub1addwnpepq0ua07k8p3vrv5dap4pl77n4gjyyqsqrndzu0tdrr60ddhfg6ah0ck5ad5l\n  mnemonic: ""\n  threshold: 0\n  pubkeys: []\n')),(0,r.kt)("p",null,":::"),(0,r.kt)("p",null,"::: details Example: Retrieve key information - Consensus nodes Address and its public key"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'$ osmosisd keys show Default --bech cons\n- name: Default\n  type: local\n  address: osmocnclcons1zdlttjrqh9jsgk2l8tgn6f0kxlfy98s34pfmlc\n  pubkey: osmocnclconspub1addwnpepq0ua07k8p3vrv5dap4pl77n4gjyyqsqrndzu0tdrr60ddhfg6ah0ch6kdrc\n  mnemonic: ""\n  threshold: 0\n  pubkeys: []\n')),(0,r.kt)("p",null,":::"),(0,r.kt)("h2",{id:"delete-a-key"},"Delete a key"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"keys delete <key_name>\n")),(0,r.kt)("p",null,"You can delete a key in your storage path."),(0,r.kt)("admonition",{type:"danger"},(0,r.kt)("p",{parentName:"admonition"},"Make sure you have backed up the key mnemonic before removing any of your keys, as there will be no way to recover your key without the mnemonic.")),(0,r.kt)("p",null,"::: details Example: Remove a key"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ osmosisd keys delete Default_restore1\nKey reference will be deleted. Continue? [y/N]: y\nKey deleted forever (uh oh!)\n")),(0,r.kt)("p",null,":::"),(0,r.kt)("h2",{id:"export-private-keys"},"Export private keys"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"keys export <key_name>\n")),(0,r.kt)("p",null,"You can export and backup your key by using the ",(0,r.kt)("inlineCode",{parentName:"p"},"export")," subcommand:"),(0,r.kt)("p",null,"::: details Example: Export your keys\nExporting the key ",(0,r.kt)("em",{parentName:"p"},"Default")," :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ osmosisd keys export Default\nEnter passphrase to encrypt the exported key: ## Insert passphrase (must be at least 8 characters)##\n-----BEGIN TENDERMINT PRIVATE KEY-----\nkdf: bcrypt\nsalt: ## Salt of the key ##\ntype: secp256k1\n\n## Tendermint private key ##\n-----END TENDERMINT PRIVATE KEY-----\n")),(0,r.kt)("p",null,":::"),(0,r.kt)("h2",{id:"the-keyring-backend-option"},"The keyring-backend option"),(0,r.kt)("p",null,"Interacting with a node requires a public-private key pair. Keyring is the place holding the keys. The keys can be stored in different locations with specified backend type. "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"$ osmosisd keys [subcommands] --keyring-backend [backend type]\n")),(0,r.kt)("h3",{id:"os-backend"},"os backend"),(0,r.kt)("p",null,"The default ",(0,r.kt)("inlineCode",{parentName:"p"},"os")," backend stores the keys in operating system's credential sub-system, which are comfortable to most users, yet without compromising on security. "),(0,r.kt)("p",null,"Here is a list of the corresponding password managers in different operating systems:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"macOS (since Mac OS 8.6): ",(0,r.kt)("a",{parentName:"li",href:"https://support.apple.com/en-gb/guide/keychain-access/welcome/mac"},"Keychain")),(0,r.kt)("li",{parentName:"ul"},"Windows: ",(0,r.kt)("a",{parentName:"li",href:"https://docs.miosmosoft.com/en-us/windows/win32/secauthn/credentials-management"},"Credentials Management API")),(0,r.kt)("li",{parentName:"ul"},"GNU/Linux:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://gitlab.gnome.org/GNOME/libsecret"},"libsecret")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://api.kde.org/frameworks/kwallet/html/index.html"},"kwallet"))))),(0,r.kt)("h3",{id:"file-backend"},"file backend"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"file")," backend stores the encrypted keys inside the app's configuration directory. A password entry is required every time a user access it, which may also occur multiple times of repeated password prompts in one single command."),(0,r.kt)("h3",{id:"test-backend"},"test backend"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"test")," backend is a password-less variation of the ",(0,r.kt)("inlineCode",{parentName:"p"},"file")," backend. It stores unencrypted keys inside the app's configuration directory. It should only be used in testing environments and never be used in production."))}c.isMDXComponent=!0}}]);